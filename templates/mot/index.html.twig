{% extends 'base.html.twig' %}

{% block title %}
    {{ parent() }}
    {{ 'almrsk.h1' | trans({'%almrsk%' : 'mots'}) }}
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">

            <div class="col-sm-8">
                <h1 class="mb-3">{{ 'label.almrsk_h1' | trans({'%almrsk%' : 'mots'}) }}</h1>

                {% for mot in mots %}
                    <div class="media">
                        {% set avatar = asset('images/default-avatar.png') %}

                        {% if mot.user.avatarName is not null %}
                            {% set avatar = vich_uploader_asset(mot.user, 'avatarFile') %}
                       {% endif %}

                        {% if app.user %}
                            <a href="{{ path('fos_user_profile_edit') }}" title="{{ 'user.change_avatar' | trans }}">
                                <img class="align-self-start mr-3 rounded" src="{{ avatar }}" alt="{{ 'almrsk.by_user' | trans({'user': mot.user.username}) }}" width="64" height="64">
                            </a>
                        {% else %}
                            <img class="align-self-start mr-3 rounded" src="{{ avatar }}" alt="{{ 'almrsk.by_user' | trans({'user': mot.user.username}) }}" title="{{ 'almrsk.by_user' | trans({'user': mot.user.username}) }}" width="64" height="64">
                        {% endif %}

                        <div class="media-body">
                            <h2 class="mt-0 mb-1" title="{{ 'label.latin_char' | trans }}">
                                <a href="{{ path('mot_show', {'id': mot.id}) }}">
                                    {{ mot.inLatin }}
                                </a>
                            </h2>
                            <h3 class="mt-0">
                                <span title="{{ 'label.tamazight_char' | trans }}">{{ mot.inTamazight }}</span> |
                                <span title="{{ 'label.arabic_char' | trans }}">{{ mot.inArabic }}</span>
                            </h3>
                            <p>{{ mot.description }}</p>
                            <p>
                                <a href="{{ path('mot_show', {'id': mot.id}) }}" class="float-right">
                                    <i class="fa fa-arrow-right"></i>
                                    {{ 'label.details_reactions' | trans }}
                                </a>
                            </p>
                        </div>
                    </div>
                    <hr class="bg-white">
                {% endfor %}
            </div>

            <div class="col-sm-4">
                <div class="card text-dark almrsk-submission">
                    <p class="card-header">
                        <strong>{{ 'label.almrsk_insert_new' | trans({'%almrsk%' : 'un nouveau mot'}) }}</strong>
                    </p>
                    <div class="card-body">
                        {{ include('partials/_form.html.twig') }}
                    </div>
                    <img src="{{ asset('images/hippocampe.gif') }}" class="hippocampe" alt="Hippocampe">
                </div>
            </div>

        </div>
    </div>
{% endblock %}
